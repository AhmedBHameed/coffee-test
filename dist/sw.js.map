{"version":3,"sources":["sw.js"],"names":["cacheName","urlsToCache","self","addEventListener","e","console","log","waitUntil","caches","open","then","cache","addAll","event","clients","claim","cacheFirst","req","match","cached","fetch","networkAndCache","fresh","put","clone","catch","err","error","respondWith","request","ignoreSearch","response"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,SAAS,GAAG,WAAlB;AAEA,IAAMC,WAAW,GAAG,CAClB,GADkB,EAElB,aAFkB,EAGlB,kBAHkB,EAIlB,mBAJkB,EAKlB,yBALkB,EAMlB,0BANkB,EAOlB,0BAPkB,EAQlB,wBARkB,EASlB,4BATkB,CAApB;AAYAC,IAAI,CAACC,gBAAL,CAAsB,SAAtB,EAAiC,UAASC,CAAT,EAAY;AAC3CC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA,SAAOF,CAAC,CAACG,SAAF,CACLC,MAAM,CAACC,IAAP,CAAYT,SAAZ,EAAuBU,IAAvB,CAA4B,UAASC,KAAT,EAAgB;AAC1C,WAAOA,KAAK,CAACC,MAAN,CAAaX,WAAb,CAAP;AACD,GAFD,CADK,CAAP;AAKD,CAPD;AASAC,IAAI,CAACC,gBAAL,CAAsB,UAAtB,EAAkC,UAAAC,CAAC,EAAI;AACrC;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAO,EAAAA,KAAK,CAACN,SAAN,CAAgBL,IAAI,CAACY,OAAL,CAAaC,KAAb,EAAhB;AACD,CAJD;;AAMA,SAASC,UAAT,CAAoBC,GAApB,EAAyB;AACvBT,EAAAA,MAAM,CAACC,IAAP,CAAYT,SAAZ,EAAuBU,IAAvB,CAA4B,UAASC,KAAT,EAAgB;AAC1CA,IAAAA,KAAK,CAACO,KAAN,CAAYD,GAAZ,EAAiBP,IAAjB,CAAsB,UAASS,MAAT,EAAiB;AACrC,aAAOA,MAAM,IAAIC,KAAK,CAACH,GAAD,CAAtB;AACD,KAFD;AAGD,GAJD;AAKD;;AAED,SAASI,eAAT,CAAyBJ,GAAzB,EAA8B;AAC5B,SAAOT,MAAM,CACVC,IADI,CACCT,SADD,EAEJU,IAFI,CAEC,UAASC,KAAT,EAAgB;AACpBS,IAAAA,KAAK,CAACH,GAAD,CAAL,CACGP,IADH,CACQ,UAASY,KAAT,EAAgB;AACpBX,MAAAA,KAAK,CAACY,GAAN,CAAUN,GAAV,EAAeK,KAAK,CAACE,KAAN,EAAf;AACA,aAAOF,KAAP;AACD,KAJH,EAKGG,KALH,CAKS,UAASC,GAAT,EAAc;AACnBrB,MAAAA,OAAO,CAACsB,KAAR,CAAc,aAAd,EAA6BD,GAA7B;AACD,KAPH;AAQD,GAXI,EAYJD,KAZI,CAYE,UAASC,GAAT,EAAc;AACnBrB,IAAAA,OAAO,CAACsB,KAAR,CAAc,cAAd,EAA8BD,GAA9B;AACD,GAdI,CAAP;AAeD;;AAEDxB,IAAI,CAACC,gBAAL,CAAsB,OAAtB,EAA+B,UAAAU,KAAK,EAAI;AACtCA,EAAAA,KAAK,CAACe,WAAN,CACEpB,MAAM,CAACU,KAAP,CAAaL,KAAK,CAACgB,OAAnB,EAA4B;AAAEC,IAAAA,YAAY,EAAE;AAAhB,GAA5B,EAAoDpB,IAApD,CAAyD,UAAAqB,QAAQ,EAAI;AACnE,WAAOA,QAAQ,IAAIX,KAAK,CAACP,KAAK,CAACgB,OAAP,CAAxB;AACD,GAFD,CADF;AAKD,CAND,GAQA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA","file":"sw.js","sourceRoot":"../src","sourcesContent":["const cacheName = \"Caffee-v1\";\n\nconst urlsToCache = [\n  \"/\",\n  \"/index.html\",\n  \"/src.a85eef1a.js\",\n  \"/src.aed7bf18.css\",\n  \"/cup_empty.62c83817.png\",\n  \"/cup_fill_1.a3d8b51e.png\",\n  \"/cup_fill_2.606cb127.png\",\n  \"/cup_full.867df466.png\",\n  \"/cup_too_full.7fa8829d.png\"\n];\n\nself.addEventListener(\"install\", function(e) {\n  console.log(\"Installing SW!\");\n  return e.waitUntil(\n    caches.open(cacheName).then(function(cache) {\n      return cache.addAll(urlsToCache);\n    })\n  );\n});\n\nself.addEventListener(\"activate\", e => {\n  // We can use it here to delete old versions of the app.\n  console.log(\"Activating the service worker!\");\n  event.waitUntil(self.clients.claim());\n});\n\nfunction cacheFirst(req) {\n  caches.open(cacheName).then(function(cache) {\n    cache.match(req).then(function(cached) {\n      return cached || fetch(req);\n    });\n  });\n}\n\nfunction networkAndCache(req) {\n  return caches\n    .open(cacheName)\n    .then(function(cache) {\n      fetch(req)\n        .then(function(fresh) {\n          cache.put(req, fresh.clone());\n          return fresh;\n        })\n        .catch(function(err) {\n          console.error(\"Fetch error\", err);\n        });\n    })\n    .catch(function(err) {\n      console.error(\"Caches error\", err);\n    });\n}\n\nself.addEventListener(\"fetch\", event => {\n  event.respondWith(\n    caches.match(event.request, { ignoreSearch: true }).then(response => {\n      return response || fetch(event.request);\n    })\n  );\n});\n\n// function(e) {\n//   const req = e.request;\n//   const url = new URL(req.url);\n\n//   if (url.origin === location.origin) {\n//     return e.respondWith(cacheFirst(req));\n//   } else {\n//     return e.respondWith(networkAndCache(req));\n//   }\n// });\n"]}